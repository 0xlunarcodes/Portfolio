<html>

<head>
    <style>
        * {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            text-align: center;
            font-size: 35px;
            color: rgb(207, 207, 207);
            background-color: rgb(44, 58, 71);

        }
    </style>
    <title>Factor Stuff Calculator</title>
    <meta name="description" content="CombatCodeCloud cool calculator (ccccc)">

</head>

<body>
    <h1>enter a number...</h1>
    <h1>to get factor pairs/factor numbers/perfect square!</h1>
    <form id="form">
        <input type="text" id="facNum" placeholder="number goes here?"><br><br>
        <input type="submit" value="submit">
    </form>
    <div class="pairs"></div><br>
    <div class="factors"></div><br>
    <div class="perfect"></div><br>
    <div>
        <h1>v1.1.1</h1>
        <h1>copyright 2021 CombatCodeCloud</h1>
    </div>
</body>

<script type="text/javascript">
    const FORM = document.querySelector("form");
    const RESULT = document.querySelector(".pairs");
    const RESULT2 = document.querySelector(".factors")
    const RESULT3 = document.querySelector(".perfect")
    const input = document.querySelector("input");
    document.addEventListener("submit", handleSubmit);
    let pairs = [];
    let factors = [];
    let isSqNumPerfect = false;

    //2 5 2021 debut angel alvarez ccc
    function returnResult(sqredNum) {
        RESULT.innerText = `Factor pairs of ${Math.abs(input.value)}: ${JSON.stringify(pairs)}`;
        RESULT2.innerText = `Factors of ${Math.abs(input.value)}: ${JSON.stringify(factors)}`;
        if (isSqNumPerfect) {
            RESULT3.innerText = `Perfect square found: ${sqredNum}`;
        }
        else {
            RESULT3.innerText = "No perfect sqaure...";
        }
        isSqNumPerfect = false;
        pairs = [];
        factors = [];

    }

    function handleSubmit(event) {
        event.preventDefault();
        console.log("submit happened");
        let currentValue = Math.abs(input.value);
        console.log(currentValue);
        if (!currentValue == 0) {
            CalculateFP(currentValue);
        }
    }

    function CalculateFP(currentValue) {
        let sqNum = Math.sqrt(currentValue);
        for (let i = 0; i < currentValue + 1; i++) {
            if (Number.isInteger(currentValue / i) && (((currentValue / i) % 1) == 0)) {
                pairs.push(new Pair(i, currentValue / i));
                factors.push(i);
            }
        }
        if (((sqNum * sqNum) == currentValue) && Number.isInteger(sqNum)) {
            isSqNumPerfect = true;
        }
        else {
            isSqNumPerfect = false;
        }
        returnResult(sqNum);
    }

    function Pair(a, b) {
        this.a = a;
        this.b = b;
    }

    const changelog = "added auto negative number conversion, doesnt just do [] when u put 0, tells u perfect square, tells u what the numbers are";
</script>

</html>